version: '3'
services:
  database:
    image: mysql
    environment:
      MYSQL_ROOT_PASSWORD: ${DB_PASSWORD}
      MYSQL_USER: ${DB_USER}
      MYSQL_DATABASE: ${DB_NAME}
    container_name: mysql
    ports:
      - 3306:3306
    networks:
      - go_net

  application:
    #build:
    #  context: .
    #  dockerfile: ./Dockerfile
    image: TODOIMAGE
    ports:
     - 8080:8080
    depends_on:
     - database
    container_name: golang-api
    # environment:
    #  - 'DB_PORT=${DB_PORT}'
    #  - 'DB_HOST=${DB_HOST}'
    #  - 'DB_USER=${DB_USER}'
    #  - 'DB_PASSWORD=${DB_PASSWORD}'
    #  - 'DB_NAME=${DB_NAME}'
    networks:
      - go_net
networks:
  go_net:
    driver: bridge